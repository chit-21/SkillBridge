{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/schit/Documents/SkillBridge/skillbridge/src/lib/firebaseAdmin.ts"],"sourcesContent":["// src/lib/firebaseAdmin.ts\r\nimport admin from \"firebase-admin\";\r\n\r\nfunction formatPrivateKey(k?: string) {\r\n  if (!k) return undefined;\r\n  // Remove surrounding quotes (if envvar was quoted) then convert literal \\n into real newlines\r\n  return k.replace(/(^\"|\"$)/g, \"\").replace(/\\\\n/g, \"\\n\");\r\n}\r\n\r\nconst serviceAccount = {\r\n  projectId: process.env.FIREBASE_PROJECT_ID,\r\n  clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\r\n  privateKey: formatPrivateKey(process.env.FIREBASE_PRIVATE_KEY),\r\n};\r\n\r\nif (!admin.apps.length) {\r\n  admin.initializeApp({\r\n    credential: admin.credential.cert(serviceAccount as admin.ServiceAccount),\r\n  });\r\n}\r\n\r\nexport const adminAuth = admin.auth();\r\nexport const adminDb = admin.firestore();\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;AAC3B;;AAEA,SAAS,iBAAiB,CAAU;IAClC,IAAI,CAAC,GAAG,OAAO;IACf,8FAA8F;IAC9F,OAAO,EAAE,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,QAAQ;AACnD;AAEA,MAAM,iBAAiB;IACrB,WAAW,QAAQ,GAAG,CAAC,mBAAmB;IAC1C,aAAa,QAAQ,GAAG,CAAC,qBAAqB;IAC9C,YAAY,iBAAiB,QAAQ,GAAG,CAAC,oBAAoB;AAC/D;AAEA,IAAI,CAAC,sIAAK,CAAC,IAAI,CAAC,MAAM,EAAE;IACtB,sIAAK,CAAC,aAAa,CAAC;QAClB,YAAY,sIAAK,CAAC,UAAU,CAAC,IAAI,CAAC;IACpC;AACF;AAEO,MAAM,YAAY,sIAAK,CAAC,IAAI;AAC5B,MAAM,UAAU,sIAAK,CAAC,SAAS","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/schit/Documents/SkillBridge/skillbridge/src/app/api/test/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { adminAuth, adminDb } from \"@/lib/firebaseAdmin\";\r\n\r\nexport async function GET() {\r\n  try {\r\n    // üîπ Test Firestore\r\n    const testDoc = adminDb.collection(\"test\").doc(\"hello\");\r\n    await testDoc.set({ message: \"Firestore connected!\", timestamp: new Date() });\r\n    const data = (await testDoc.get()).data();\r\n\r\n    // üîπ Test Auth\r\n    const users = await adminAuth.listUsers(1); // fetch 1 user if exists\r\n    const firstUser = users.users[0]?.email || \"No users found\";\r\n\r\n    //  üîπ Test environment variables\r\n    const envCheck = {\r\n      projectId: process.env.FIREBASE_PROJECT_ID,\r\n      clientEmail: process.env.FIREBASE_CLIENT_EMAIL ? \"Loaded ‚úÖ\" : \"Missing ‚ùå\",\r\n    };\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      firestore: data,\r\n      auth: firstUser,\r\n      env: envCheck,\r\n    });\r\n  } catch (err: any) {\r\n    return NextResponse.json({ success: false, error: err.message }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,oBAAoB;QACpB,MAAM,UAAU,wIAAO,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC;QAC/C,MAAM,QAAQ,GAAG,CAAC;YAAE,SAAS;YAAwB,WAAW,IAAI;QAAO;QAC3E,MAAM,OAAO,CAAC,MAAM,QAAQ,GAAG,EAAE,EAAE,IAAI;QAEvC,eAAe;QACf,MAAM,QAAQ,MAAM,0IAAS,CAAC,SAAS,CAAC,IAAI,yBAAyB;QACrE,MAAM,YAAY,MAAM,KAAK,CAAC,EAAE,EAAE,SAAS;QAE3C,iCAAiC;QACjC,MAAM,WAAW;YACf,WAAW,QAAQ,GAAG,CAAC,mBAAmB;YAC1C,aAAa,QAAQ,GAAG,CAAC,qBAAqB,GAAG,aAAa;QAChE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,WAAW;YACX,MAAM;YACN,KAAK;QACP;IACF,EAAE,OAAO,KAAU;QACjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF","debugId":null}}]
}